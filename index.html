<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>EasyFootall ‚Äî Resultados y Noticias de F√∫tbol</title>
<meta name="description" content="EasyFootall: resultados en vivo (demo), perfiles de equipos y jugadores, y noticias RSS. 100% gratis." />
<style>
:root{
  --bg:#0b1220; --fg:#e8ecf1; --muted:#9aa6b2; --card:#121a2b; --accent:#2dd4bf; --accent-2:#60a5fa; --danger:#ef4444;
}
:root.light{
  --bg:#ffffff; --fg:#0b1220; --muted:#5b6470; --card:#f4f7fb; --accent:#0ea5e9; --accent-2:#10b981; --danger:#dc2626;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{background:var(--bg);color:var(--fg);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
a{color:var(--accent)}
.topbar{position:sticky;top:0;z-index:10;display:flex;gap:12px;align-items:center;justify-content:space-between;padding:10px 14px;background:var(--card);border-bottom:1px solid rgba(255,255,255,.06)}
.brand{display:flex;align-items:center;gap:8px;font-weight:800}
.logo{font-size:22px}
.nav{display:flex;gap:10px;flex-wrap:wrap}
.nav-link{padding:6px 10px;border-radius:8px;text-decoration:none;color:var(--fg)}
.nav-link:hover{background:rgba(255,255,255,.06)}
.actions{display:flex;gap:8px;align-items:center}
#search{padding:8px 10px;border:1px solid rgba(255,255,255,.1);background:transparent;color:var(--fg);border-radius:8px;min-width:220px}
#themeBtn{background:var(--accent-2);color:#001;border:0;padding:8px 10px;border-radius:8px;cursor:pointer}
main{max-width:1100px;margin:16px auto;padding:0 16px}
.route{display:none}
.route.active{display:block}
h1,h2{margin:6px 0 8px}
.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin:16px 0}
.card{display:block;background:var(--card);padding:14px;border-radius:12px;color:var(--fg);text-decoration:none;border:1px solid rgba(255,255,255,.06)}
.card:hover{border-color:var(--accent)}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px}
.tile{background:var(--card);border:1px solid rgba(255,255,255,.06);padding:12px;border-radius:12px}
.badge{display:inline-block;padding:2px 8px;border-radius:999px;font-size:12px;background:rgba(255,255,255,.08)}
.live{color:#fff;background:linear-gradient(90deg,#ef4444,#f59e0b)}
.list{display:grid;gap:10px}
.match{display:flex;gap:12px;align-items:center;justify-content:space-between;background:var(--card);padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.06)}
.match .teams{display:flex;gap:8px;align-items:center}
.match .score{font-weight:900}
.hint{opacity:.65;font-size:12px}
.footer{opacity:.75;text-align:center;padding:26px}
.rss-form{display:flex;gap:8px;margin:8px 0}
.rss-form input{flex:1;padding:8px 10px;border:1px solid rgba(255,255,255,.1);background:transparent;color:var(--fg);border-radius:8px}
.rss-card{display:block;background:var(--card);padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,.06);text-decoration:none;color:var(--fg)}
dialog{border:0;border-radius:14px;max-width:720px;width:95%;background:var(--card);color:var(--fg);padding:0}
dialog article{padding:16px}
dialog::backdrop{background:rgba(0,0,0,.55)}
.btn{padding:8px 12px;border:0;border-radius:10px;background:var(--accent);color:#001;font-weight:700;cursor:pointer}
.btn:hover{filter:brightness(1.05)}
@media (max-width:720px){#search{min-width:140px}}
</style>
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <span class="logo">‚öΩ</span>
      <span>EasyFootall</span>
    </div>

    <nav class="nav">
      <a href="#home" class="nav-link">Inicio</a>
      <a href="#live" class="nav-link">En vivo</a>
      <a href="#teams" class="nav-link">Equipos</a>
      <a href="#players" class="nav-link">Jugadores</a>
      <a href="#news" class="nav-link">Noticias</a>
      <a href="#press" class="nav-link">Prensa</a>
    </nav>

    <div class="actions">
      <input id="search" type="search" placeholder="Buscar equipos, jugadores, ligas‚Ä¶" />
      <button id="themeBtn" title="Modo claro/oscuro">üåó</button>
    </div>
  </header>

  <main id="app">
    <!-- HOME -->
    <section id="home" class="route active">
      <h1>Bienvenido a EasyFootall</h1>
      <p>Resultados, perfiles y noticias de f√∫tbol. 100% gratis. üöÄ</p>

      <div class="cards">
        <a href="#live" class="card">
          <h3>üì∫ Partidos en vivo</h3>
          <p>Marcadores y minutos en tiempo real (demo).</p>
        </a>
        <a href="#teams" class="card">
          <h3>üèüÔ∏è Equipos</h3>
          <p>Perfiles r√°pidos con plantilla y datos b√°sicos.</p>
        </a>
        <a href="#players" class="card">
          <h3>üë§ Jugadores</h3>
          <p>Ficha corta con posici√≥n, edad y equipo.</p>
        </a>
        <a href="#news" class="card">
          <h3>üì∞ Noticias (RSS)</h3>
          <p>√öltimos titulares de fuentes deportivas.</p>
        </a>
      </div>
    </section>

    <!-- LIVE -->
    <section id="live" class="route">
      <h2>En vivo</h2>
      <div id="liveMatches" class="list"></div>
      <small class="hint">* Demo: los minutos/goles avanzan autom√°ticamente. Preparado para API real.</small>
    </section>

    <!-- TEAMS -->
    <section id="teams" class="route">
      <h2>Equipos</h2>
      <div id="teamsGrid" class="grid"></div>
    </section>

    <!-- PLAYERS -->
    <section id="players" class="route">
      <h2>Jugadores</h2>
      <div id="playersGrid" class="grid"></div>
    </section>

    <!-- NEWS -->
    <section id="news" class="route">
      <h2>Noticias (RSS)</h2>
      <form id="rssForm" class="rss-form">
        <input id="rssUrl" type="url" placeholder="Pega un RSS (ej: https://www.marca.com/rss/futbol.html)" />
        <button class="btn" type="submit">‚ûï A√±adir feed</button>
      </form>
      <div id="newsList" class="list"></div>
      <small class="hint">Los RSS se cargan v√≠a el proxy p√∫blico <code>allorigins</code> para evitar CORS. Si un feed falla, prueba otro.</small>
    </section>

    <!-- PRESS / CONTACT -->
    <section id="press" class="route">
      <h2>Prensa & Colaboraciones</h2>
      <p>¬øEres periodista, medio o creador? Nos encantar√° colaborar.</p>
      <ul class="contact">
        <li>üìß Email: <a href="mailto:contacto@easyfootall.test">contacto@easyfootall.test</a></li>
        <li>üí¨ Discord: <a target="_blank" href="https://discord.gg/TU_CANAL_PRENSA">Canal de prensa</a></li>
        <li>üìù Env√≠a notas de prensa (pr√≥ximamente)</li>
      </ul>
    </section>
  </main>

  <!-- Modal Perfil -->
  <dialog id="profileModal">
    <article id="profileContent"></article>
    <div style="padding:0 16px 16px;"><button class="btn" id="closeModal">Cerrar</button></div>
  </dialog>

  <footer class="footer">
    <span>¬© 2025 EasyFootall ¬∑ Demo ¬∑ <a href="#press">Prensa</a></span>
  </footer>

  <!-- Datos embebidos -->
  <script type="application/json" id="matchesData">[
    {"id":1,"league":"LaLiga","home":"Real Madrid","away":"Barcelona","score":[0,0],"minute":12,"status":"LIVE"},
    {"id":2,"league":"Premier League","home":"Arsenal","away":"Man City","score":[1,0],"minute":34,"status":"LIVE"},
    {"id":3,"league":"Serie A","home":"Inter","away":"Juventus","score":[0,0],"minute":0,"status":"PR√ìX"}
  ]</script>

  <script type="application/json" id="teamsData">[
    {"id":101,"name":"Real Madrid","league":"LaLiga","country":"Espa√±a"},
    {"id":102,"name":"Barcelona","league":"LaLiga","country":"Espa√±a"},
    {"id":201,"name":"Arsenal","league":"Premier League","country":"Inglaterra"},
    {"id":202,"name":"Manchester City","league":"Premier League","country":"Inglaterra"},
    {"id":301,"name":"Inter","league":"Serie A","country":"Italia"},
    {"id":302,"name":"Juventus","league":"Serie A","country":"Italia"}
  ]</script>

  <script type="application/json" id="playersData">[
    {"id":1,"teamId":101,"name":"J. Bellingham","pos":"MC","age":21},
    {"id":2,"teamId":101,"name":"Vini Jr","pos":"EI","age":25},
    {"id":3,"teamId":102,"name":"Pedri","pos":"MC","age":22},
    {"id":4,"teamId":201,"name":"Saka","pos":"ED","age":23},
    {"id":5,"teamId":202,"name":"Haaland","pos":"DC","age":25},
    {"id":6,"teamId":301,"name":"Lautaro","pos":"DC","age":28}
  ]</script>

  <!-- App JS -->
  <script>
/* ---------- RUTAS Y TEMA ---------- */
const routes = ["home","live","teams","players","news","press"];
function setRoute() {
  const hash = (location.hash || "#home").replace("#","");
  routes.forEach(id=>{
    const sec = document.getElementById(id);
    if(sec) sec.classList.toggle("active", id===hash);
  });
}
window.addEventListener("hashchange", setRoute);
setRoute();

const root = document.documentElement;
const themeBtn = document.getElementById("themeBtn");
(function initTheme(){
  const saved = localStorage.getItem("theme") || "dark";
  if(saved==="light") root.classList.add("light");
})();
themeBtn.onclick = ()=>{
  root.classList.toggle("light");
  localStorage.setItem("theme", root.classList.contains("light")?"light":"dark");
};

/* ---------- CARGA DE DATOS EMBEBIDOS ---------- */
const MATCHES = JSON.parse(document.getElementById("matchesData").textContent);
const TEAMS   = JSON.parse(document.getElementById("teamsData").textContent);
const PLAYERS = JSON.parse(document.getElementById("playersData").textContent);

/* ---------- EN VIVO (RENDER + SIMULACI√ìN) ---------- */
const liveBox = document.getElementById("liveMatches");
function renderLive(filter=""){
  liveBox.innerHTML = "";
  MATCHES
    .filter(m => !filter || (m.home.toLowerCase().includes(filter)||m.away.toLowerCase().includes(filter)||m.league.toLowerCase().includes(filter)))
    .forEach(m=>{
      const el = document.createElement("div");
      el.className = "match";
      el.innerHTML = `
        <div class="teams">
          <span class="badge live">${m.status==="LIVE"?"LIVE":"PR√ìX"}</span>
          <strong>${m.league}</strong> ¬∑ ${m.minute}' 
        </div>
        <div class="score">${m.home} <strong>${m.score[0]}</strong> - <strong>${m.score[1]}</strong> ${m.away}</div>
      `;
      liveBox.appendChild(el);
    });
}
renderLive();

let tick;
function startLiveSimulation(){
  clearInterval(tick);
  tick = setInterval(()=>{
    MATCHES.forEach(m=>{
      if(m.status==="LIVE"){
        m.minute = Math.min(m.minute + (Math.random()<0.7?1:0), 95);
        if(Math.random()<0.06){
          const side = Math.random()<0.5?0:1;
          m.score[side]+=1;
        }
        if(m.minute>=95) m.status="FT";
      }
    });
    renderLive(document.getElementById("search").value.trim().toLowerCase());
  }, 4000);
}
startLiveSimulation();

/* ---------- EQUIPOS / JUGADORES / MODAL ---------- */
const teamsGrid = document.getElementById("teamsGrid");
const playersGrid = document.getElementById("playersGrid");
const modal = document.getElementById("profileModal");
const modalContent = document.getElementById("profileContent");
document.getElementById("closeModal").onclick = ()=>modal.close();

function renderTeams(filter=""){
  teamsGrid.innerHTML = "";
  TEAMS
  .filter(t => !filter || t.name.toLowerCase().includes(filter) || t.league.toLowerCase().includes(filter))
  .forEach(t=>{
    const card = document.createElement("div");
    card.className = "tile";
    card.innerHTML = `
      <h3>${t.name}</h3>
      <p class="badge">${t.league}</p>
      <p>${t.country}</p>
      <button class="btn" data-team="${t.id}">Ver perfil</button>
    `;
    card.querySelector("button").onclick = ()=>openTeam(t.id);
    teamsGrid.appendChild(card);
  });
}
function renderPlayers(filter=""){
  playersGrid.innerHTML = "";
  PLAYERS
  .filter(p => !filter || p.name.toLowerCase().includes(filter) || p.pos.toLowerCase().includes(filter) || (TEAMS.find(t=>t.id===p.teamId)?.name.toLowerCase().includes(filter)))
  .forEach(p=>{
    const team = TEAMS.find(t=>t.id===p.teamId);
    const card = document.createElement("div");
    card.className = "tile";
    card.innerHTML = `
      <h3>${p.name}</h3>
      <p>${p.pos} ¬∑ ${p.age} a√±os</p>
      <p class="badge">${team?team.name:"‚Äî"}</p>
      <button class="btn" data-player="${p.id}">Ver perfil</button>
    `;
    card.querySelector("button").onclick = ()=>openPlayer(p.id);
    playersGrid.appendChild(card);
  });
}
renderTeams();
renderPlayers();

function openTeam(id){
  const t = TEAMS.find(x=>x.id===id);
  const squad = PLAYERS.filter(p=>p.teamId===id).map(p=>`${p.name} (${p.pos})`).join(" ¬∑ ");
  modalContent.innerHTML = `
    <article>
      <h2>${t.name}</h2>
      <p><strong>Liga:</strong> ${t.league} ¬∑ <strong>Pa√≠s:</strong> ${t.country}</p>
      <h3>Plantilla</h3>
      <p>${squad || "‚Äî"}</p>
    </article>
  `;
  modal.showModal();
}
function openPlayer(id){
  const p = PLAYERS.find(x=>x.id===id);
  const team = TEAMS.find(t=>t.id===p.teamId);
  modalContent.innerHTML = `
    <article>
      <h2>${p.name}</h2>
      <p><strong>Posici√≥n:</strong> ${p.pos} ¬∑ <strong>Edad:</strong> ${p.age}</p>
      <p><strong>Equipo:</strong> ${team?team.name:"‚Äî"}</p>
    </article>
  `;
  modal.showModal();
}

/* ---------- BUSCADOR GLOBAL ---------- */
const searchInput = document.getElementById("search");
searchInput.addEventListener("input", (e)=>{
  const q = e.target.value.trim().toLowerCase();
  const route = (location.hash||"#home").replace("#","");
  if(route==="live") renderLive(q);
  if(route==="teams") renderTeams(q);
  if(route==="players") renderPlayers(q);
});

/* ---------- NOTICIAS (RSS v√≠a AllOrigins) ---------- */
const rssForm = document.getElementById("rssForm");
const rssUrl = document.getElementById("rssUrl");
const newsList = document.getElementById("newsList");

// Feeds por defecto (puedes cambiarlos)
const defaultFeeds = [
  "https://www.marca.com/rss/futbol.html",
  "https://as.com/rss/futbol/primera.xml"
];

async function loadFeed(url){
  try{
    // AllOrigins proxy libre (evita CORS): devuelve {contents: "<xml...>"}
    const proxied = "https://api.allorigins.win/get?url=" + encodeURIComponent(url);
    const r = await fetch(proxied);
    if(!r.ok) throw new Error("Fetch proxy fall√≥");
    const j = await r.json();
    const xml = j.contents;

    const items = [...xml.matchAll(/<item>([\s\S]*?)<\/item>/g)].map(m=>{
      const block = m[1];
      const title = (block.match(/<title><!\[CDATA\[(.*?)\]\]><\/title>/) || block.match(/<title>(.*?)<\/title>/) || [,""])[1];
      const link  = (block.match(/<link>(.*?)<\/link>/) || [,""])[1];
      const pub   = (block.match(/<pubDate>(.*?)<\/pubDate>/) || [,""])[1];
      return { title, link, pubDate: pub };
    });

    items.slice(0,12).forEach(item=>{
      const a = document.createElement("a");
      a.className = "rss-card";
      a.target = "_blank";
      a.href = item.link;
      const dateStr = item.pubDate ? new Date(item.pubDate).toLocaleString() : "";
      a.innerHTML = `<strong>${item.title || "(Sin t√≠tulo)"}</strong><br><span class="hint">${dateStr}</span>`;
      newsList.appendChild(a);
    });
  }catch(e){
    const err = document.createElement("div");
    err.className="tile";
    err.innerHTML = `No se pudo cargar el feed: ${url}`;
    newsList.appendChild(err);
  }
}
function loadDefaultFeeds(){
  newsList.innerHTML = "";
  defaultFeeds.forEach(loadFeed);
}
loadDefaultFeeds();

rssForm.addEventListener("submit",(e)=>{
  e.preventDefault();
  if(rssUrl.value) { loadFeed(rssUrl.value); rssUrl.value=""; }
});
  </script>
</body>
</html>
